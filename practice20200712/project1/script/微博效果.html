<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>微博效果</title>
<style>
    *{
        margin: 0;
        padding: 0;
    }

    #ul1{
        width: 400px;
        height: 400px;
        border: 1px solid darkgrey;
        margin: 10px auto;
        overflow: hidden;
    }

    #ul1 li{
        border-bottom: 1px gainsboro dashed;
        padding: 4px;
        list-style: none;
        overflow: hidden;
        filter: alpha(opacity:0);
        opacity: 0;
    }
</style>
    <script src="move.js"></script>
<script>
    window.onload = function () {
        var oBtn = document.getElementById('bt1');
        var oTxt = document.getElementById('txt1');
        var oUl = document.getElementById('ul1');

        oBtn.onclick = function () {
            var oLi = document.createElement('li');

            oLi.innerText = oTxt.value;
            oTxt.value = '';

            if(oUl.children.length > 0)
                oUl.insertBefore(oLi, oUl.children[0]);
            else
                oUl.appendChild(oLi);

            var iHeight = oLi.offsetHeight;
            oLi.style.height = '0';

            move(oLi, {'height': iHeight}, function () {
                move(oLi, {'opacity': 100});
            })
        }
    }
</script>
</head>
<body>
<textarea id="txt1" rows="4" cols="40"></textarea>
<input type="button" value="发布" id="bt1" />

<ul id="ul1">
    <li>jrowijfw</li>
</ul>
</body>
</html>